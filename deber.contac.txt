#include <iostream>
#include <fstream>
using namespace std;

void escribirArchivo(string nombreArchivo);
void leerArchivo(string nombreArchivo);

int main() 
{
int opc;

string nombreArchivo;
do{


cout<<"MENU LIBRETA"<<endl;
cout<<"1.ingrese datos"<<endl;
cout<<"1.leer datos"<<endl;
cin>>opc;

switch(opc){
	case 1:
	while(getchar()!='\n');  
    cout<<"Ingrese el nombre del archivo: ";
      getline(cin,nombreArchivo);
      escribirArchivo(nombreArchivo);
	break;
	case 2:
	leerArchivo(nombreArchivo);
	while(getchar()!='\n');  
	getchar();
	getchar();
	break;

}
}while(opc!=3);
	
  
}

void escribirArchivo(string nombreArchivo)
{
  string nombre;
  string apellido;
  int edad;
  char r;
  ofstream archivoprueba;
  archivoprueba.open(nombreArchivo,ios::app);
  do
  {
	      cin.ignore();

    cout<<"\t Ingrese el nombre:";
    getline(cin,nombre); 
    cout<<"\t Ingrese el apellido:";
    getline(cin,apellido); 
    cout<<"\t Ingrese la edad:";
    cin>>edad;

    archivoprueba<<nombre<<" "<<apellido<<" "<<edad<<endl;

    cout<<"Desea ingresar otro contacto s/n ";

    cin>>r;

  }
  while(r=='s');

  archivoprueba.close();

}

void leerArchivo(string nombreArchivo)
{
  string nombre;
  string apellido;
  string nombrearchivo;
  int edad;
  ifstream archivolectura;
  string texto;
  archivolectura.open(nombreArchivo,ios::in);

  while(!archivolectura.eof())
  {
    archivolectura>>nombre>>apellido>>edad;

    if(!archivolectura.eof())
    {
      cout<<"Nombre:"<<nombre<<endl;
      cout<<"Apellido:"<<apellido<<endl;
      cout<<"Edad:"<<edad<<endl;
    }
  }
  archivolectura.close();
}